###############################
# Set the Seed
# variable seed equal 784365678.

# Temperature
variable T equal 1.

variable num_protein equal 500


# Damp parameter (inversely proportional to friction coefficient)
variable gamma equal 1.

# Fixed boundaries in all dimensions.
boundary p p p


units           lj
dimension       3


# Pair interactions require lists of neighbours to be calculated
#neighbor 1.0 bin
#neigh_modify every 1 delay 0 check yes


atom_style 	molecular


# region simbox block -20 20 -20 20 -20 20
# create_box 3 simbox

read_data       conf


# set masses
mass		1 1.0
#mass		2 1.0
#mass		3 0.5

# mass		4 1.0

molecule mymol testmol

# fix rigid/small/nve


create_atoms 0 random ${num_protein} ${seed} NULL mol mymol ${seed} 


fix 1 all rigid/nve/small molecule mol mymol


#################################################################
#################################################################
#################################################################
#### Interactions

pair_style   hybrid lj/cut 1.122461 gauss 1.122461
pair_modify  shift yes
pair_coeff   1 1 lj/cut 1.0 1.0 1.122462048309373
pair_coeff   1 2 lj/cut 1.0 1.0 1.122462048309373

#pair_coeff   2 2 lj/cut 1.0 1.0 1.122462048309373
pair_coeff   2 2 lj/cut 41.0 1.0 2


#pair_coeff   1 3 lj/cut 41.0 0.535 0.685
#pair_coeff  1 3 0.0 0.535 0.685
pair_coeff   1 3 gauss 40 2 

pair_coeff   2 3 lj/cut 0.0 1.0 1.122462048309373
pair_coeff   3 3 lj/cut 0.0 1.0 1.122462048309373

neigh_modify	exclude type 2 3
neigh_modify	exclude type 3 3


special_bonds   lj 0.0 1.0 1.0


#################################################################
#################################################################
# Integrator

minimize 0.0 1.0e-8 1000 100000

velocity all create $T ${seed}


# Fix Integrator
fix 2 all nve
fix 3 all langevin $T $T ${gamma} ${seed}

#################################################################
#################################################################


timestep        0.001

thermo_modify    norm no
thermo          10000

#run             1000000


######################################
# dumps 

dump xyz all xyz 1000 dump/test.xyz

dump custom_dump all custom 1000 dump/test.atom xu yu zu

######################################



run             10000000

